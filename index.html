<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Xadrez GPMS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;700;900&display=swap" rel="stylesheet">
  </head>
  <body>
    <h1>Xadrez GPMS</h1>

    <div id="menu">
      <button onclick="startGame(false)">Jogador x Jogador</button>
      <button onclick="startGame(true)">Jogador x Computador</button>
    </div>
    <div id="gameMsg"></div>
    <div id="raiz"></div>
    <button id="botao">Log Tabuleiro</button>
    <script src="peca.js"></script>
    <script src="peao.js"></script>
    <script src="cavalo.js"></script>
    <script src="torre.js"></script>
    <script src="bispo.js"></script>
    <script src="dama.js"></script>
    <script src="rei.js"></script>
    <script src="tabuleiro.js"></script>
    <script src="jogador.js"></script>
    <script src="xadrez.js"></script>
    <script>
      function startGame(contraIA) {
        var divTab = document.getElementById("raiz");
        var menu = document.getElementById("menu");
        menu.remove()

        divTab.innerHTML = null;

        var jogador1 = prompt("Nome do Jogador 1:")
        if(!contraIA)var jogador2 = prompt("Nome do Jogador 2:")

        var xadrez = new Xadrez(jogador1, jogador2, 3, contraIA);
        document.xadrez = xadrez
        divTab.appendChild(xadrez.render());
      }

      document.startGame = startGame

      let debug = false;
      let botao = document.getElementById("botao")

      if(debug){
        botao.addEventListener("click", () => {
          var casas = document.xadrez.tabuleiro.casas;
  
          casas.forEach(l => l.forEach(c => console.log(c)))
        })
      }else botao.remove()
    </script>
  </body>
</html>
